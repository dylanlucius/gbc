GBC v0.2.34.2 Â©2023 Software Toy

## **Directory Structure**:
#### **1. git:**
    .git
    .gitignore

#### **2. actual ROM file**
    gbc.gb

#### **3. build script**
    build.bat

#### **4. main source code file**
    main.c

#### **5. background image and map data**
    bgtiles.c           | background image data
    bgtiles.h           |       (additional defs)
    bgmap.c             | map applies data to background
    bgmap.h             |       (additional defs)

#### **6. sprite image data**
    spritetiles.c       | sprite image data
    spritetiles.h       | sprite color palette data

#### **7. window map data**
    windowmap.c         | maps tiles to window

#### **8. (hUGEDriver dependencies)**
    include/            | binary files for hUGEDriver
    obj/                | contains lib for hUGEDriver
    song/               | contains song file inside of
                        | another directory 'C/'
    tools/              | rgbasm and rgb2sdas (for hUGEDriver)

    hUGEDriver.asm      | the actual hUGEDriver code
    hUGEDriver.h        | definitions for .asm file

    ** all of these are part of the hUGEDriver 'directory structure' that this project uses. it's this way until further notice

&nbsp;
## **Process**:

#### **setup project**:
    Install dependencies. Clone hUGEBuild repo (or this one). Create c:/gbc (project root). Copy contents of hUGEBuild folder to project root. Back up with a git repo. Add path (or .bat file with paths to and commands) for GBDK. 'Open folder' in VS Code.

#### **create ***main.c*** and include needed modules**:
    #include <stdio.h>
    #include <gb/gb.h>      // GBDK main functions
    #include <gb/cgb.h>     // GBDK GBC palette functions
    #include <gbdk/font.h>  // GBDK font functions
    #include "hUGEDriver.h"

#### ... also #include any project files you add.
#### **write**:
    void main(){

    }

#### **create these files in the project**
    bgtiles.c               // background tile image data
    bgmap.c                 // background tile map data
    spritetiles.c           // sprite tile image data
    (all come with .h files -- generated by gbtd or gbmb)

    windowmap.c             // window map data

#### **setup the background**
    set_bkg_data(37, 7, bgtiles);
    // place bg tile image data into video ram

    set_bkg_tiles(0,0,20,18, Map);
    // place bg map data into video ram

    SHOW_BKG;
    // set show bg flag

    DISPLAY_ON;
    // turn display on

#### **setup sprites**
    set_sprite_data(0,2,Player);
    // set sprite data (into OAM?)

    set_sprite_tile(0,0);
    // choose tile to apply to sprite

    move_sprite(0,88,78);
    // take the sprite and moves it
       on-screen

    SHOW_SPRITES;
    // set show sprites flag

#### **setup window**
    set_win_tiles(0,0,5,1,windowmap);
    // assign window tiles according to map

    move_win(7,120);
    // move window into place (only* down)

    SHOW_WIN;
    // set show window flag

#### **setup main loop**
    while(1){
        
        wait_vbl_done();

        delay(25); // optional, param is m.cycles

    }

#### **setup GBC color palettes**
    // grab palette data from 'gb/cgb' or a 'tiles.h' file. put it after includes, before main

    const UWORD background_palette[] = { RGB_BLUE, RGB_DARKBLUE, RGB_TEAL, RGB_BLACK };

    const UWORD sprite_palette[] = {
            PlayerCGBPal0c0,
            PlayerCGBPal0c1,
            PlayerCGBPal0c2,
            PlayerCGBPal0c3 
        };

    // then in main() when right before you set up bg or sprite data, put these

        // above bg data
        set_bkg_palette(0,1,&background_palette[0]);

        // above sprite data
        set_sprite_palette(0,1,&sprite_palette[0]);
    
    // you can use this to set which palette a sprite will use
    //set_sprite_prop(0,1);



        

#### **setup input**
    // just put a switch like this
        switch(joypad()){
                case J_UP:
                    //scroll_sprite(0,0,-2);
                    break;
                
                case J_DOWN:
                    //scroll_sprite(0,0,2);
                    break;

                case J_LEFT:
                    //scroll_sprite(0,-2,0);
                    break;
                
                case J_RIGHT:
                    //scroll_sprite(0,2,0);
                    break;

                case J_SELECT... START... A... B...

                // don't forget your break statements
                   (commented out code moves sprite)

#### **program sound registers to play**
    // set these registers. turns on sound
    NR52_REG = 0x80;
    NR50_REG = 0x77;
    NR51_REG = 0xFF;

#### **setup music (hUGEDriver)**
    // put this after #includes, before main()
    extern const hUGESong_t song;

    // put this in main(), above the main while() loop

    __critical {
        hUGE_init(&song);
        add_VBL(hUGE_dosound);
    }

#### **to be continued ...**
    


&nbsp; 
## **Tools**:
#### **Code**:
    VS CODE     | powerful lightweight code editor
    GBDK        | Game Boy Development Kit, C library for
                  making gb games
#### **Art (Graphics)**:
    GBTD        | Game Boy Tile Designer, program for
                  making gb tiles. Outputs C data arrays
                  for use with gbdk
    GBMB        | Game Boy Map Builder. Companion program
                  to gbtd, make and export map data arrays
                  in C using tiles from gbtd
#### **Music / SFX**:
    hUGETracker | 'tracker' program for making .mod music files
    hUGEDriver  | 'driver' / library for music on gb
    hUGEBuild   | git repo. refactor of hUGEDriver
                  project. makes it usable

    sound.gb    | playable ROM to manipulate gb sound
                  hardware directly
#### **Debug**:
    bgb         | powerful emulator / debugger

&nbsp;
## **Learn**:

#### ***"Learn How to Develop Your Own GameBoy Games"***:
    beginner course on gb development in C with GBDK

*https://youtube.com/playlist?list=PLeEj4c2zF7PaFv5MPYhNAkBGrkx4iPGJo*

&nbsp;
#### ***"Game Boy Programming in Assembly for the Modern Game Developer"***:
    teaches assembly for gb development with 'gingerbread' library and RGBDS

*https://github.com/ahrnbom/gbapfomgd*

&nbsp;
#### ***"Official Game Boy Programming Manual"***:
    Nintendo's official programming document from the 90's


*https://ia803208.us.archive.org/9/items/GameBoyProgManVer1.1/GameBoyProgManVer1.1.pdf*

&nbsp;
#### ***"But How Do It Know?"***:
    Best book I've ever found about computer hardware.

*https://libgen.is/book/index.php?md5=D92A27307B5B5B766AAFB2B30EE313C8*
    
